<?php declare(strict_types = 1);

if (!\is_dir(\dirname(__DIR__).'/vendor')) {
    throw new \LogicException('Dependencies are missing. Try running "composer install".');
}

/** @framework This is part of Symfony framework, symfony/runtime composer plugin */
if (!\is_file(\dirname(__DIR__).'/vendor/autoload_runtime.php')) {
    throw new \LogicException('Symfony Runtime is missing. Try running "composer require symfony/runtime".');
}

require_once \dirname(__DIR__).'/vendor/autoload_runtime.php';

use Siestacat\DddManager\Kernel\Infrastructure\Adapter\Kernel;

return function (array $context)
{
    return
    new Kernel(dirname(__DIR__), $context)->callFrameworkConsoleApplication();
};